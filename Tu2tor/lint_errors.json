[{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\config\\database.js","messages":[{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":5,"column":41,"nodeType":"Identifier","messageId":"undef","endLine":5,"endColumn":48},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":26,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":26,"endColumn":12}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose from 'mongoose';\n\nconst connectDB = async () => {\n  try {\n    const conn = await mongoose.connect(process.env.MONGODB_URI, {\n      // These options are no longer needed in Mongoose 6+\n      // useNewUrlParser: true,\n      // useUnifiedTopology: true,\n    });\n\n    console.log(`鉁?MongoDB Connected: ${conn.connection.host}`);\n    console.log(`馃搳 Database: ${conn.connection.name}`);\n\n    // Handle connection events\n    mongoose.connection.on('error', (err) => {\n      console.error('鉂?MongoDB connection error:', err);\n    });\n\n    mongoose.connection.on('disconnected', () => {\n      console.warn('鈿狅笍  MongoDB disconnected');\n    });\n\n    return conn;\n  } catch (error) {\n    console.error('鉂?Error connecting to MongoDB:', error.message);\n    process.exit(1);\n  }\n};\n\nexport default connectDB;\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\controllers\\authController.js","messages":[{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":8,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":8,"endColumn":34}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import jwt from 'jsonwebtoken';\nimport User from '../models/User.js';\n\n/**\n * Generate JWT token\n */\nconst generateToken = (id) => {\n  return jwt.sign({ id }, process.env.JWT_SECRET, {\n    expiresIn: '30d' // Token expires in 30 days\n  });\n};\n\n/**\n * @route   POST /api/auth/register\n * @desc    Register new user\n * @access  Public\n */\nexport const register = async (req, res) => {\n  try {\n    const {\n      username,\n      email,\n      password,\n      role,\n      school,\n      major,\n      yearOfStudy\n    } = req.body;\n\n    // Validation\n    if (!username || !email || !password) {\n      return res.status(400).json({\n        error: 'Validation error',\n        message: 'Please provide username, email, and password'\n      });\n    }\n\n    // Check if user already exists\n    const userExists = await User.findOne({\n      $or: [{ email }, { username }]\n    });\n\n    if (userExists) {\n      return res.status(400).json({\n        error: 'User already exists',\n        message: userExists.email === email\n          ? 'Email is already registered'\n          : 'Username is already taken'\n      });\n    }\n\n    // Create user (password will be hashed by pre-save hook)\n    const user = await User.create({\n      username,\n      email,\n      password,\n      role: role || 'student',\n      school,\n      major,\n      yearOfStudy\n    });\n\n    // Generate token\n    const token = generateToken(user._id);\n\n    // Return user data (excluding password)\n    res.status(201).json({\n      success: true,\n      message: 'User registered successfully',\n      token,\n      user: {\n        id: user._id,\n        username: user.username,\n        email: user.email,\n        role: user.role,\n        school: user.school,\n        major: user.major,\n        yearOfStudy: user.yearOfStudy,\n        credits: user.credits,\n        profileCompletion: user.profileCompletion\n      }\n    });\n  } catch (error) {\n    console.error('Register error:', error);\n    res.status(500).json({\n      error: 'Registration failed',\n      message: error.message\n    });\n  }\n};\n\n/**\n * @route   POST /api/auth/login\n * @desc    Login user\n * @access  Public\n */\nexport const login = async (req, res) => {\n  try {\n    const { email, password } = req.body;\n\n    // Validation\n    if (!email || !password) {\n      return res.status(400).json({\n        error: 'Validation error',\n        message: 'Please provide email and password'\n      });\n    }\n\n    // Find user (include password for comparison)\n    const user = await User.findOne({ email }).select('+password');\n\n    if (!user) {\n      return res.status(401).json({\n        error: 'Invalid credentials',\n        message: 'Email or password is incorrect'\n      });\n    }\n\n    // Check password\n    const isPasswordMatch = await user.comparePassword(password);\n\n    if (!isPasswordMatch) {\n      return res.status(401).json({\n        error: 'Invalid credentials',\n        message: 'Email or password is incorrect'\n      });\n    }\n\n    // Update last login\n    user.lastLogin = Date.now();\n    await user.save();\n\n    // Generate token\n    const token = generateToken(user._id);\n\n    // Return user data (excluding password)\n    res.json({\n      success: true,\n      message: 'Login successful',\n      token,\n      user: {\n        id: user._id,\n        username: user.username,\n        email: user.email,\n        role: user.role,\n        school: user.school,\n        major: user.major,\n        yearOfStudy: user.yearOfStudy,\n        credits: user.credits,\n        badges: user.badges,\n        profileCompletion: user.profileCompletion,\n        lastLogin: user.lastLogin\n      }\n    });\n  } catch (error) {\n    console.error('Login error:', error);\n    res.status(500).json({\n      error: 'Login failed',\n      message: error.message\n    });\n  }\n};\n\n/**\n * @route   GET /api/auth/me\n * @desc    Get current logged in user\n * @access  Private\n */\nexport const getMe = async (req, res) => {\n  try {\n    // req.user is set by auth middleware\n    const user = await User.findById(req.user._id).select('-password');\n\n    if (!user) {\n      return res.status(404).json({\n        error: 'User not found',\n        message: 'User profile not found'\n      });\n    }\n\n    res.json({\n      success: true,\n      user: {\n        id: user._id,\n        username: user.username,\n        email: user.email,\n        role: user.role,\n        school: user.school,\n        major: user.major,\n        yearOfStudy: user.yearOfStudy,\n        phoneNumber: user.phoneNumber,\n        bio: user.bio,\n        profilePicture: user.profilePicture,\n        credits: user.credits,\n        badges: user.badges,\n        profileCompletion: user.profileCompletion,\n        preferences: user.preferences,\n        lastLogin: user.lastLogin,\n        createdAt: user.createdAt\n      }\n    });\n  } catch (error) {\n    console.error('Get me error:', error);\n    res.status(500).json({\n      error: 'Failed to fetch user',\n      message: error.message\n    });\n  }\n};\n\n/**\n * @route   PUT /api/auth/update-profile\n * @desc    Update user profile\n * @access  Private\n */\nexport const updateProfile = async (req, res) => {\n  try {\n    const allowedUpdates = [\n      'username',\n      'phoneNumber',\n      'bio',\n      'school',\n      'major',\n      'yearOfStudy',\n      'profilePicture',\n      'preferences'\n    ];\n\n    const updates = {};\n    Object.keys(req.body).forEach(key => {\n      if (allowedUpdates.includes(key)) {\n        updates[key] = req.body[key];\n      }\n    });\n\n    // Check if username is being changed and if it's already taken\n    if (updates.username) {\n      const existingUser = await User.findOne({\n        username: updates.username,\n        _id: { $ne: req.user._id }\n      });\n\n      if (existingUser) {\n        return res.status(400).json({\n          error: 'Username taken',\n          message: 'This username is already in use'\n        });\n      }\n    }\n\n    const user = await User.findByIdAndUpdate(\n      req.user._id,\n      { $set: updates },\n      { new: true, runValidators: true }\n    ).select('-password');\n\n    res.json({\n      success: true,\n      message: 'Profile updated successfully',\n      user: {\n        id: user._id,\n        username: user.username,\n        email: user.email,\n        role: user.role,\n        school: user.school,\n        major: user.major,\n        yearOfStudy: user.yearOfStudy,\n        phoneNumber: user.phoneNumber,\n        bio: user.bio,\n        profilePicture: user.profilePicture,\n        credits: user.credits,\n        badges: user.badges,\n        profileCompletion: user.profileCompletion,\n        preferences: user.preferences\n      }\n    });\n  } catch (error) {\n    console.error('Update profile error:', error);\n    res.status(500).json({\n      error: 'Update failed',\n      message: error.message\n    });\n  }\n};\n\n/**\n * @route   PUT /api/auth/change-password\n * @desc    Change user password\n * @access  Private\n */\nexport const changePassword = async (req, res) => {\n  try {\n    const { currentPassword, newPassword } = req.body;\n\n    if (!currentPassword || !newPassword) {\n      return res.status(400).json({\n        error: 'Validation error',\n        message: 'Please provide current and new password'\n      });\n    }\n\n    if (newPassword.length < 6) {\n      return res.status(400).json({\n        error: 'Validation error',\n        message: 'New password must be at least 6 characters'\n      });\n    }\n\n    // Get user with password\n    const user = await User.findById(req.user._id).select('+password');\n\n    // Verify current password\n    const isPasswordMatch = await user.comparePassword(currentPassword);\n\n    if (!isPasswordMatch) {\n      return res.status(401).json({\n        error: 'Invalid password',\n        message: 'Current password is incorrect'\n      });\n    }\n\n    // Update password (will be hashed by pre-save hook)\n    user.password = newPassword;\n    await user.save();\n\n    res.json({\n      success: true,\n      message: 'Password changed successfully'\n    });\n  } catch (error) {\n    console.error('Change password error:', error);\n    res.status(500).json({\n      error: 'Password change failed',\n      message: error.message\n    });\n  }\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\controllers\\bookingController.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\controllers\\reviewController.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\controllers\\tutorController.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'availability' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":17,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":19,"suggestions":[{"messageId":"removeVar","data":{"varName":"availability"},"fix":{"range":[371,391],"text":""},"desc":"Remove unused variable 'availability'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import Tutor from '../models/Tutor.js';\nimport User from '../models/User.js';\n\n/**\n * @route   GET /api/tutors\n * @desc    Get all tutors with optional filters\n * @access  Public\n * @query   subject, school, minRating, maxRate, availability\n */\nexport const getTutors = async (req, res) => {\n  try {\n    const {\n      subject,\n      school,\n      minRating,\n      maxRate,\n      availability,\n      location,\n      search,\n      page = 1,\n      limit = 20\n    } = req.query;\n\n    // Build query\n    let query = { isAvailable: true };\n\n    // Subject filter\n    if (subject) {\n      query['subjects.code'] = { $regex: subject, $options: 'i' };\n    }\n\n    // Rating filter\n    if (minRating) {\n      query.averageRating = { $gte: parseFloat(minRating) };\n    }\n\n    // Rate filter\n    if (maxRate) {\n      query.hourlyRate = { $lte: parseFloat(maxRate) };\n    }\n\n    // Location filter\n    if (location) {\n      query.preferredLocations = { $in: [location] };\n    }\n\n    // Get tutors with populated user data\n    const tutors = await Tutor.find(query)\n      .populate({\n        path: 'userId',\n        select: 'username email school major yearOfStudy profilePicture',\n        match: school ? { school: { $regex: school, $options: 'i' } } : {}\n      })\n      .skip((page - 1) * limit)\n      .limit(parseInt(limit))\n      .sort({ averageRating: -1, totalSessions: -1 });\n\n    // Filter out tutors where user data didn't match (due to populate match)\n    const filteredTutors = tutors.filter(tutor => tutor.userId);\n\n    // Apply search filter if provided (search in username, bio, subjects)\n    let results = filteredTutors;\n    if (search) {\n      const searchLower = search.toLowerCase();\n      results = filteredTutors.filter(tutor => {\n        const username = tutor.userId.username.toLowerCase();\n        const bio = tutor.bio?.toLowerCase() || '';\n        const subjects = tutor.subjects.map(s => s.name.toLowerCase()).join(' ');\n        return username.includes(searchLower) ||\n               bio.includes(searchLower) ||\n               subjects.includes(searchLower);\n      });\n    }\n\n    // Get total count for pagination\n    const total = await Tutor.countDocuments(query);\n\n    res.json({\n      success: true,\n      count: results.length,\n      total,\n      page: parseInt(page),\n      pages: Math.ceil(total / limit),\n      tutors: results.map(tutor => ({\n        id: tutor._id,\n        userId: tutor.userId._id,\n        username: tutor.userId.username,\n        email: tutor.userId.email,\n        school: tutor.userId.school,\n        major: tutor.userId.major,\n        yearOfStudy: tutor.userId.yearOfStudy,\n        profilePicture: tutor.userId.profilePicture,\n        bio: tutor.bio,\n        subjects: tutor.subjects,\n        hourlyRate: tutor.hourlyRate,\n        availableSlots: tutor.availableSlots,\n        preferredLocations: tutor.preferredLocations,\n        averageRating: tutor.averageRating,\n        totalReviews: tutor.totalReviews,\n        totalSessions: tutor.totalSessions,\n        responseTime: tutor.responseTime,\n        isAvailable: tutor.isAvailable\n      }))\n    });\n  } catch (error) {\n    console.error('Get tutors error:', error);\n    res.status(500).json({\n      error: 'Failed to fetch tutors',\n      message: error.message\n    });\n  }\n};\n\n/**\n * @route   GET /api/tutors/:id\n * @desc    Get specific tutor by ID\n * @access  Public\n */\nexport const getTutorById = async (req, res) => {\n  try {\n    const tutor = await Tutor.findById(req.params.id)\n      .populate('userId', 'username email school major yearOfStudy profilePicture bio');\n\n    if (!tutor) {\n      return res.status(404).json({\n        error: 'Tutor not found',\n        message: 'No tutor found with this ID'\n      });\n    }\n\n    res.json({\n      success: true,\n      tutor: {\n        id: tutor._id,\n        userId: tutor.userId._id,\n        username: tutor.userId.username,\n        email: tutor.userId.email,\n        school: tutor.userId.school,\n        major: tutor.userId.major,\n        yearOfStudy: tutor.userId.yearOfStudy,\n        profilePicture: tutor.userId.profilePicture,\n        bio: tutor.bio,\n        subjects: tutor.subjects,\n        hourlyRate: tutor.hourlyRate,\n        availableSlots: tutor.availableSlots,\n        preferredLocations: tutor.preferredLocations,\n        averageRating: tutor.averageRating,\n        totalReviews: tutor.totalReviews,\n        totalSessions: tutor.totalSessions,\n        completedSessions: tutor.completedSessions,\n        responseTime: tutor.responseTime,\n        isAvailable: tutor.isAvailable,\n        createdAt: tutor.createdAt\n      }\n    });\n  } catch (error) {\n    console.error('Get tutor error:', error);\n    res.status(500).json({\n      error: 'Failed to fetch tutor',\n      message: error.message\n    });\n  }\n};\n\n/**\n * @route   POST /api/tutors\n * @desc    Create/register as a tutor\n * @access  Private\n */\nexport const createTutor = async (req, res) => {\n  try {\n    // Check if user is already a tutor\n    const existingTutor = await Tutor.findOne({ userId: req.user._id });\n\n    if (existingTutor) {\n      return res.status(400).json({\n        error: 'Already a tutor',\n        message: 'You are already registered as a tutor'\n      });\n    }\n\n    const {\n      bio,\n      subjects,\n      hourlyRate,\n      availableSlots,\n      preferredLocations\n    } = req.body;\n\n    // Validation\n    if (!subjects || subjects.length === 0) {\n      return res.status(400).json({\n        error: 'Validation error',\n        message: 'Please provide at least one subject'\n      });\n    }\n\n    if (!hourlyRate) {\n      return res.status(400).json({\n        error: 'Validation error',\n        message: 'Please provide an hourly rate'\n      });\n    }\n\n    // Create tutor profile\n    const tutor = await Tutor.create({\n      userId: req.user._id,\n      bio,\n      subjects,\n      hourlyRate,\n      availableSlots: availableSlots || [],\n      preferredLocations: preferredLocations || []\n    });\n\n    // Update user role to tutor\n    await User.findByIdAndUpdate(req.user._id, { role: 'tutor' });\n\n    // Populate user data\n    await tutor.populate('userId', 'username email school major yearOfStudy profilePicture');\n\n    res.status(201).json({\n      success: true,\n      message: 'Tutor profile created successfully',\n      tutor: {\n        id: tutor._id,\n        userId: tutor.userId._id,\n        username: tutor.userId.username,\n        bio: tutor.bio,\n        subjects: tutor.subjects,\n        hourlyRate: tutor.hourlyRate,\n        availableSlots: tutor.availableSlots,\n        preferredLocations: tutor.preferredLocations\n      }\n    });\n  } catch (error) {\n    console.error('Create tutor error:', error);\n    res.status(500).json({\n      error: 'Failed to create tutor profile',\n      message: error.message\n    });\n  }\n};\n\n/**\n * @route   PUT /api/tutors/:id\n * @desc    Update tutor profile\n * @access  Private (must be the tutor owner)\n */\nexport const updateTutor = async (req, res) => {\n  try {\n    const tutor = await Tutor.findById(req.params.id);\n\n    if (!tutor) {\n      return res.status(404).json({\n        error: 'Tutor not found',\n        message: 'No tutor found with this ID'\n      });\n    }\n\n    // Check if user owns this tutor profile\n    if (tutor.userId.toString() !== req.user._id.toString()) {\n      return res.status(403).json({\n        error: 'Forbidden',\n        message: 'You can only update your own tutor profile'\n      });\n    }\n\n    const allowedUpdates = [\n      'bio',\n      'subjects',\n      'hourlyRate',\n      'availableSlots',\n      'preferredLocations',\n      'isAvailable'\n    ];\n\n    const updates = {};\n    Object.keys(req.body).forEach(key => {\n      if (allowedUpdates.includes(key)) {\n        updates[key] = req.body[key];\n      }\n    });\n\n    const updatedTutor = await Tutor.findByIdAndUpdate(\n      req.params.id,\n      { $set: updates },\n      { new: true, runValidators: true }\n    ).populate('userId', 'username email school major yearOfStudy profilePicture');\n\n    res.json({\n      success: true,\n      message: 'Tutor profile updated successfully',\n      tutor: {\n        id: updatedTutor._id,\n        userId: updatedTutor.userId._id,\n        username: updatedTutor.userId.username,\n        bio: updatedTutor.bio,\n        subjects: updatedTutor.subjects,\n        hourlyRate: updatedTutor.hourlyRate,\n        availableSlots: updatedTutor.availableSlots,\n        preferredLocations: updatedTutor.preferredLocations,\n        averageRating: updatedTutor.averageRating,\n        totalReviews: updatedTutor.totalReviews,\n        isAvailable: updatedTutor.isAvailable\n      }\n    });\n  } catch (error) {\n    console.error('Update tutor error:', error);\n    res.status(500).json({\n      error: 'Failed to update tutor profile',\n      message: error.message\n    });\n  }\n};\n\n/**\n * @route   GET /api/tutors/user/:userId\n * @desc    Get tutor profile by user ID\n * @access  Public\n */\nexport const getTutorByUserId = async (req, res) => {\n  try {\n    const tutor = await Tutor.findOne({ userId: req.params.userId })\n      .populate('userId', 'username email school major yearOfStudy profilePicture bio');\n\n    if (!tutor) {\n      return res.status(404).json({\n        error: 'Tutor not found',\n        message: 'This user is not registered as a tutor'\n      });\n    }\n\n    res.json({\n      success: true,\n      tutor: {\n        id: tutor._id,\n        userId: tutor.userId._id,\n        username: tutor.userId.username,\n        email: tutor.userId.email,\n        school: tutor.userId.school,\n        major: tutor.userId.major,\n        yearOfStudy: tutor.userId.yearOfStudy,\n        profilePicture: tutor.userId.profilePicture,\n        bio: tutor.bio,\n        subjects: tutor.subjects,\n        hourlyRate: tutor.hourlyRate,\n        availableSlots: tutor.availableSlots,\n        preferredLocations: tutor.preferredLocations,\n        averageRating: tutor.averageRating,\n        totalReviews: tutor.totalReviews,\n        totalSessions: tutor.totalSessions,\n        completedSessions: tutor.completedSessions,\n        responseTime: tutor.responseTime,\n        isAvailable: tutor.isAvailable\n      }\n    });\n  } catch (error) {\n    console.error('Get tutor by user ID error:', error);\n    res.status(500).json({\n      error: 'Failed to fetch tutor',\n      message: error.message\n    });\n  }\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\middleware\\auth.js","messages":[{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":18,"column":41,"nodeType":"Identifier","messageId":"undef","endLine":18,"endColumn":48}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import jwt from 'jsonwebtoken';\nimport User from '../models/User.js';\n\n/**\n * Authentication middleware to protect routes\n * Verifies JWT token and attaches user to request object\n */\nexport const protect = async (req, res, next) => {\n  let token;\n\n  // Check for token in Authorization header\n  if (req.headers.authorization && req.headers.authorization.startsWith('Bearer')) {\n    try {\n      // Extract token from \"Bearer <token>\"\n      token = req.headers.authorization.split(' ')[1];\n\n      // Verify token\n      const decoded = jwt.verify(token, process.env.JWT_SECRET);\n\n      // Get user from token (exclude password)\n      req.user = await User.findById(decoded.id).select('-password');\n\n      if (!req.user) {\n        return res.status(401).json({\n          error: 'User not found',\n          message: 'The user associated with this token no longer exists'\n        });\n      }\n\n      next();\n    } catch (error) {\n      console.error('Auth middleware error:', error);\n      return res.status(401).json({\n        error: 'Not authorized',\n        message: 'Token verification failed'\n      });\n    }\n  }\n\n  if (!token) {\n    return res.status(401).json({\n      error: 'Not authorized',\n      message: 'No token provided'\n    });\n  }\n};\n\n/**\n * Role-based authorization middleware\n * Checks if user has required role(s)\n */\nexport const authorize = (...roles) => {\n  return (req, res, next) => {\n    if (!req.user) {\n      return res.status(401).json({\n        error: 'Not authorized',\n        message: 'User not authenticated'\n      });\n    }\n\n    if (!roles.includes(req.user.role)) {\n      return res.status(403).json({\n        error: 'Forbidden',\n        message: `User role '${req.user.role}' is not authorized to access this route`\n      });\n    }\n\n    next();\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\models\\Booking.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\models\\Review.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\models\\Tutor.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\models\\User.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\routes\\authRoutes.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\routes\\bookingRoutes.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\routes\\reviewRoutes.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\routes\\testRoutes.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\routes\\tutorRoutes.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\scripts\\seed.js","messages":[{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":24,"column":28,"nodeType":"Identifier","messageId":"undef","endLine":24,"endColumn":35},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":1226,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":1226,"endColumn":12},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":1229,"column":5,"nodeType":"Identifier","messageId":"undef","endLine":1229,"endColumn":12}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import mongoose from 'mongoose';\nimport dotenv from 'dotenv';\nimport bcrypt from 'bcryptjs';\nimport { fileURLToPath } from 'url';\nimport { dirname, join } from 'path';\n\n// Get current directory\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\n// Load env from server directory\ndotenv.config({ path: join(__dirname, '../../.env') });\n\nimport User from '../models/User.js';\nimport Tutor from '../models/Tutor.js';\nimport Booking from '../models/Booking.js';\nimport Review from '../models/Review.js';\n\nconst seedDatabase = async () => {\n  try {\n    console.log('馃尡 Starting database seed...');\n\n    // Connect to MongoDB\n    await mongoose.connect(process.env.MONGODB_URI);\n    console.log('鉁?Connected to MongoDB');\n\n    // Clear existing data\n    console.log('馃棏锔? Clearing existing data...');\n    await User.deleteMany({});\n    await Tutor.deleteMany({});\n    await Booking.deleteMany({});\n    await Review.deleteMany({});\n    console.log('鉁?Existing data cleared');\n\n    // Create Users (Students & Tutors)\n    console.log('馃懃 Creating users...');\n\n    const password = await bcrypt.hash('password123', 10);\n\n    const users = await User.insertMany([\n      // Students\n      {\n        username: 'alice_student',\n        email: 'alice@tp.edu.sg',\n        password: password,\n        role: 'student',\n        school: 'Temasek Polytechnic',\n        major: 'Information Technology',\n        yearOfStudy: 2,\n        credits: 150,\n        profileCompletion: 80,\n        badges: ['early-adopter'],\n      },\n      {\n        username: 'charlie_student',\n        email: 'charlie@tp.edu.sg',\n        password: password,\n        role: 'student',\n        school: 'Temasek Polytechnic',\n        major: 'Business',\n        yearOfStudy: 1,\n        credits: 100,\n        profileCompletion: 60,\n      },\n      {\n        username: 'diana_student',\n        email: 'diana@tp.edu.sg',\n        password: password,\n        role: 'student',\n        school: 'Temasek Polytechnic',\n        major: 'Engineering',\n        yearOfStudy: 3,\n        credits: 200,\n        profileCompletion: 90,\n        badges: ['top-learner'],\n      },\n      {\n        username: 'edward_student',\n        email: 'edward@tp.edu.sg',\n        password: password,\n        role: 'student',\n        school: 'Temasek Polytechnic',\n        major: 'Information Technology',\n        yearOfStudy: 1,\n        credits: 120,\n        profileCompletion: 70,\n      },\n      {\n        username: 'fiona_student',\n        email: 'fiona@tp.edu.sg',\n        password: password,\n        role: 'student',\n        school: 'Temasek Polytechnic',\n        major: 'Design',\n        yearOfStudy: 2,\n        credits: 180,\n        profileCompletion: 85,\n        badges: ['creative'],\n      },\n      {\n        username: 'george_student',\n        email: 'george@tp.edu.sg',\n        password: password,\n        role: 'student',\n        school: 'Temasek Polytechnic',\n        major: 'Business',\n        yearOfStudy: 2,\n        credits: 140,\n        profileCompletion: 75,\n      },\n      {\n        username: 'hannah_student',\n        email: 'hannah@tp.edu.sg',\n        password: password,\n        role: 'student',\n        school: 'Temasek Polytechnic',\n        major: 'Engineering',\n        yearOfStudy: 1,\n        credits: 90,\n        profileCompletion: 55,\n      },\n      {\n        username: 'ivan_student',\n        email: 'ivan@tp.edu.sg',\n        password: password,\n        role: 'student',\n        school: 'Temasek Polytechnic',\n        major: 'Information Technology',\n        yearOfStudy: 3,\n        credits: 220,\n        profileCompletion: 95,\n        badges: ['tech-wizard', 'helpful'],\n      },\n      // Tutors\n      {\n        username: 'bob_tutor',\n        email: 'bob@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Computer Science',\n        yearOfStudy: 3,\n        credits: 300,\n        bio: 'Experienced CS tutor specializing in algorithms and data structures',\n        profileCompletion: 100,\n        badges: ['top-tutor', 'helpful'],\n      },\n      {\n        username: 'emily_tutor',\n        email: 'emily@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Mathematics',\n        yearOfStudy: 3,\n        credits: 250,\n        bio: 'Math enthusiast with a passion for teaching. Specializing in calculus and statistics.',\n        profileCompletion: 95,\n        badges: ['patient-tutor'],\n      },\n      {\n        username: 'frank_tutor',\n        email: 'frank@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Business Administration',\n        yearOfStudy: 3,\n        credits: 180,\n        bio: 'Business studies tutor with real-world experience. Can help with accounting and marketing.',\n        profileCompletion: 85,\n      },\n      {\n        username: 'grace_tutor',\n        email: 'grace@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Engineering',\n        yearOfStudy: 3,\n        credits: 220,\n        bio: 'Engineering tutor specializing in mechanics and electronics. Patient and thorough.',\n        profileCompletion: 90,\n        badges: ['responsive'],\n      },\n      {\n        username: 'henry_tutor',\n        email: 'henry@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Information Technology',\n        yearOfStudy: 3,\n        credits: 280,\n        bio: 'Web development and database expert. Can teach HTML, CSS, JavaScript, React, and SQL.',\n        profileCompletion: 100,\n        badges: ['coding-guru', 'helpful'],\n      },\n      {\n        username: 'iris_tutor',\n        email: 'iris@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Design',\n        yearOfStudy: 3,\n        credits: 200,\n        bio: 'UI/UX designer and graphic design tutor. Proficient in Figma, Adobe Creative Suite.',\n        profileCompletion: 90,\n        badges: ['creative-genius'],\n      },\n      {\n        username: 'jack_tutor',\n        email: 'jack@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Information Technology',\n        yearOfStudy: 3,\n        credits: 260,\n        bio: 'Network and cybersecurity specialist. Can teach networking fundamentals and security best practices.',\n        profileCompletion: 95,\n        badges: ['security-expert', 'patient-tutor'],\n      },\n      {\n        username: 'kelly_tutor',\n        email: 'kelly@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Mathematics',\n        yearOfStudy: 3,\n        credits: 240,\n        bio: 'Math and physics tutor. Strong in algebra, trigonometry, and mechanics.',\n        profileCompletion: 88,\n      },\n      {\n        username: 'leo_tutor',\n        email: 'leo@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Business',\n        yearOfStudy: 3,\n        credits: 210,\n        bio: 'Economics and finance tutor. Can help with microeconomics, macroeconomics, and financial management.',\n        profileCompletion: 85,\n        badges: ['finance-pro'],\n      },\n      // Additional diverse tutors\n      {\n        username: 'maya_tutor',\n        email: 'maya@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Information Technology',\n        yearOfStudy: 3,\n        credits: 270,\n        bio: 'AI and Machine Learning specialist. Passionate about data science, Python, and neural networks.',\n        profileCompletion: 98,\n        badges: ['ai-expert', 'top-tutor', 'innovative'],\n      },\n      {\n        username: 'nathan_tutor',\n        email: 'nathan@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Information Technology',\n        yearOfStudy: 2,\n        credits: 190,\n        bio: 'Mobile app developer. Teaching Android and iOS development with React Native and Flutter.',\n        profileCompletion: 82,\n        badges: ['mobile-dev', 'patient-tutor'],\n      },\n      {\n        username: 'olivia_tutor',\n        email: 'olivia@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Design',\n        yearOfStudy: 3,\n        credits: 230,\n        bio: 'Animation and video editing expert. Adobe After Effects, Premiere Pro, and 3D modeling.',\n        profileCompletion: 93,\n        badges: ['creative-genius', 'responsive'],\n      },\n      {\n        username: 'peter_tutor',\n        email: 'peter@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Engineering',\n        yearOfStudy: 2,\n        credits: 170,\n        bio: 'Mechanical engineering student. Strong in CAD, thermodynamics, and materials science.',\n        profileCompletion: 75,\n      },\n      {\n        username: 'quinn_tutor',\n        email: 'quinn@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Business',\n        yearOfStudy: 3,\n        credits: 245,\n        bio: 'Digital marketing and e-commerce specialist. SEO, social media marketing, and analytics.',\n        profileCompletion: 91,\n        badges: ['marketing-guru', 'helpful'],\n      },\n      {\n        username: 'rachel_tutor',\n        email: 'rachel@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Information Technology',\n        yearOfStudy: 3,\n        credits: 255,\n        bio: 'Cloud computing and DevOps engineer. AWS, Docker, Kubernetes, and CI/CD pipelines.',\n        profileCompletion: 96,\n        badges: ['cloud-expert', 'top-tutor'],\n      },\n      {\n        username: 'sam_tutor',\n        email: 'sam@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Mathematics',\n        yearOfStudy: 2,\n        credits: 195,\n        bio: 'Budget-friendly math tutor. Good at explaining complex concepts in simple terms.',\n        profileCompletion: 70,\n        badges: ['affordable', 'patient-tutor'],\n      },\n      {\n        username: 'tina_tutor',\n        email: 'tina@tp.edu.sg',\n        password: password,\n        role: 'tutor',\n        school: 'Temasek Polytechnic',\n        major: 'Business',\n        yearOfStudy: 3,\n        credits: 225,\n        bio: 'Supply chain management and logistics expert. Project management and operations.',\n        profileCompletion: 88,\n        badges: ['operations-pro'],\n      },\n    ]);\n\n    console.log(`鉁?Created ${users.length} users`);\n\n    // Find students and tutors\n    const students = users.filter(u => u.role === 'student');\n    const tutorUsers = users.filter(u => u.role === 'tutor');\n\n    // Create Tutor Profiles\n    console.log('馃帗 Creating tutor profiles...');\n\n    const tutors = await Tutor.insertMany([\n      {\n        userId: tutorUsers[0]._id, // bob_tutor\n        bio: 'Experienced CS tutor specializing in algorithms and data structures',\n        subjects: [\n          { code: 'CS101', name: 'Programming Fundamentals', grade: 'A' },\n          { code: 'CS201', name: 'Data Structures', grade: 'A' },\n          { code: 'CS301', name: 'Algorithms', grade: 'A+' },\n        ],\n        hourlyRate: 25,\n        availableSlots: [\n          { day: 'Monday', startTime: '14:00', endTime: '16:00' },\n          { day: 'Wednesday', startTime: '14:00', endTime: '16:00' },\n          { day: 'Friday', startTime: '10:00', endTime: '12:00' },\n        ],\n        preferredLocations: ['TP Library', 'Starbucks @ TP', 'Online'],\n        averageRating: 4.8,\n        totalReviews: 15,\n        totalSessions: 48,\n        completedSessions: 45,\n        responseTime: 120,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[1]._id, // emily_tutor\n        bio: 'Math enthusiast with a passion for teaching. Specializing in calculus and statistics.',\n        subjects: [\n          { code: 'MATH101', name: 'Calculus I', grade: 'A+' },\n          { code: 'MATH201', name: 'Calculus II', grade: 'A' },\n          { code: 'MATH301', name: 'Statistics', grade: 'A' },\n          { code: 'MATH302', name: 'Linear Algebra', grade: 'A+' },\n        ],\n        hourlyRate: 30,\n        availableSlots: [\n          { day: 'Tuesday', startTime: '13:00', endTime: '17:00' },\n          { day: 'Thursday', startTime: '13:00', endTime: '17:00' },\n          { day: 'Saturday', startTime: '09:00', endTime: '12:00' },\n        ],\n        preferredLocations: ['TP Library', 'Online', 'Tampines Mall'],\n        averageRating: 4.9,\n        totalReviews: 22,\n        totalSessions: 67,\n        completedSessions: 65,\n        responseTime: 90,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[2]._id, // frank_tutor\n        bio: 'Business studies tutor with real-world experience. Can help with accounting and marketing.',\n        subjects: [\n          { code: 'BUS101', name: 'Business Fundamentals', grade: 'A' },\n          { code: 'ACC101', name: 'Accounting Principles', grade: 'A+' },\n          { code: 'MKT201', name: 'Marketing Strategy', grade: 'A' },\n        ],\n        hourlyRate: 28,\n        availableSlots: [\n          { day: 'Monday', startTime: '18:00', endTime: '21:00' },\n          { day: 'Wednesday', startTime: '18:00', endTime: '21:00' },\n          { day: 'Friday', startTime: '18:00', endTime: '21:00' },\n        ],\n        preferredLocations: ['TP Library', 'Online', 'Bedok Library'],\n        averageRating: 4.6,\n        totalReviews: 12,\n        totalSessions: 35,\n        completedSessions: 33,\n        responseTime: 150,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[3]._id, // grace_tutor\n        bio: 'Engineering tutor specializing in mechanics and electronics. Patient and thorough.',\n        subjects: [\n          { code: 'ENG101', name: 'Engineering Mechanics', grade: 'A' },\n          { code: 'ENG201', name: 'Electronics', grade: 'A+' },\n          { code: 'ENG301', name: 'Circuit Analysis', grade: 'A' },\n        ],\n        hourlyRate: 32,\n        availableSlots: [\n          { day: 'Tuesday', startTime: '10:00', endTime: '14:00' },\n          { day: 'Thursday', startTime: '10:00', endTime: '14:00' },\n        ],\n        preferredLocations: ['TP Engineering Lab', 'TP Library', 'Online'],\n        averageRating: 4.7,\n        totalReviews: 18,\n        totalSessions: 52,\n        completedSessions: 50,\n        responseTime: 110,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[4]._id, // henry_tutor\n        bio: 'Web development and database expert. Can teach HTML, CSS, JavaScript, React, and SQL.',\n        subjects: [\n          { code: 'WEB101', name: 'Web Development Basics', grade: 'A+' },\n          { code: 'WEB201', name: 'Frontend Development', grade: 'A+' },\n          { code: 'DB101', name: 'Database Systems', grade: 'A' },\n          { code: 'JS301', name: 'Advanced JavaScript', grade: 'A+' },\n        ],\n        hourlyRate: 35,\n        availableSlots: [\n          { day: 'Monday', startTime: '15:00', endTime: '19:00' },\n          { day: 'Wednesday', startTime: '15:00', endTime: '19:00' },\n          { day: 'Friday', startTime: '15:00', endTime: '19:00' },\n          { day: 'Saturday', startTime: '10:00', endTime: '14:00' },\n        ],\n        preferredLocations: ['Online', 'TP Library', 'Starbucks @ TP'],\n        averageRating: 4.95,\n        totalReviews: 28,\n        totalSessions: 89,\n        completedSessions: 87,\n        responseTime: 60,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[5]._id, // iris_tutor\n        bio: 'UI/UX designer and graphic design tutor. Proficient in Figma, Adobe Creative Suite.',\n        subjects: [\n          { code: 'DES101', name: 'Design Fundamentals', grade: 'A+' },\n          { code: 'UX201', name: 'UI/UX Design', grade: 'A+' },\n          { code: 'GD101', name: 'Graphic Design', grade: 'A' },\n        ],\n        hourlyRate: 30,\n        availableSlots: [\n          { day: 'Tuesday', startTime: '14:00', endTime: '18:00' },\n          { day: 'Thursday', startTime: '14:00', endTime: '18:00' },\n          { day: 'Saturday', startTime: '10:00', endTime: '13:00' },\n        ],\n        preferredLocations: ['TP Design Studio', 'Online', 'Starbucks @ TP'],\n        averageRating: 4.85,\n        totalReviews: 20,\n        totalSessions: 45,\n        completedSessions: 43,\n        responseTime: 80,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[6]._id, // jack_tutor\n        bio: 'Network and cybersecurity specialist. Can teach networking fundamentals and security best practices.',\n        subjects: [\n          { code: 'NET101', name: 'Networking Fundamentals', grade: 'A+' },\n          { code: 'SEC201', name: 'Cybersecurity', grade: 'A+' },\n          { code: 'CS401', name: 'System Administration', grade: 'A' },\n        ],\n        hourlyRate: 38,\n        availableSlots: [\n          { day: 'Monday', startTime: '16:00', endTime: '20:00' },\n          { day: 'Wednesday', startTime: '16:00', endTime: '20:00' },\n          { day: 'Friday', startTime: '16:00', endTime: '20:00' },\n        ],\n        preferredLocations: ['TP IT Lab', 'Online'],\n        averageRating: 4.9,\n        totalReviews: 25,\n        totalSessions: 60,\n        completedSessions: 58,\n        responseTime: 70,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[7]._id, // kelly_tutor\n        bio: 'Math and physics tutor. Strong in algebra, trigonometry, and mechanics.',\n        subjects: [\n          { code: 'MATH101', name: 'Calculus I', grade: 'A' },\n          { code: 'MATH201', name: 'Calculus II', grade: 'A+' },\n          { code: 'PHY101', name: 'Physics I', grade: 'A' },\n          { code: 'PHY201', name: 'Physics II', grade: 'A+' },\n        ],\n        hourlyRate: 28,\n        availableSlots: [\n          { day: 'Tuesday', startTime: '15:00', endTime: '19:00' },\n          { day: 'Thursday', startTime: '15:00', endTime: '19:00' },\n        ],\n        preferredLocations: ['TP Library', 'Online', 'Tampines Library'],\n        averageRating: 4.75,\n        totalReviews: 16,\n        totalSessions: 38,\n        completedSessions: 37,\n        responseTime: 100,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[8]._id, // leo_tutor\n        bio: 'Economics and finance tutor. Can help with microeconomics, macroeconomics, and financial management.',\n        subjects: [\n          { code: 'ECON101', name: 'Microeconomics', grade: 'A+' },\n          { code: 'ECON201', name: 'Macroeconomics', grade: 'A' },\n          { code: 'FIN101', name: 'Financial Management', grade: 'A+' },\n        ],\n        hourlyRate: 32,\n        availableSlots: [\n          { day: 'Monday', startTime: '13:00', endTime: '17:00' },\n          { day: 'Wednesday', startTime: '13:00', endTime: '17:00' },\n          { day: 'Friday', startTime: '13:00', endTime: '17:00' },\n        ],\n        preferredLocations: ['TP Library', 'Online', 'Bedok Library'],\n        averageRating: 4.8,\n        totalReviews: 19,\n        totalSessions: 42,\n        completedSessions: 40,\n        responseTime: 90,\n        isAvailable: true,\n      },\n      // New diverse tutor profiles\n      {\n        userId: tutorUsers[9]._id, // maya_tutor\n        bio: 'AI and Machine Learning specialist. Passionate about data science, Python, and neural networks.',\n        subjects: [\n          { code: 'IOT', name: 'Internet of Things', grade: 'A+' },\n          { code: 'ADEV', name: 'Advanced Development', grade: 'A+' },\n          { code: 'FULL-stack', name: 'Full Stack Development', grade: 'A+' },\n          { code: 'DBAV', name: 'Database and Advanced Visualization', grade: 'A+' },\n        ],\n        hourlyRate: 45,\n        availableSlots: [\n          { day: 'Tuesday', startTime: '19:00', endTime: '22:00' },\n          { day: 'Thursday', startTime: '19:00', endTime: '22:00' },\n          { day: 'Saturday', startTime: '14:00', endTime: '18:00' },\n        ],\n        preferredLocations: ['Online', 'TP IT Lab', 'IIT-pixel X'],\n        averageRating: 4.95,\n        totalReviews: 32,\n        totalSessions: 75,\n        completedSessions: 73,\n        responseTime: 45,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[10]._id, // nathan_tutor\n        bio: 'Mobile app developer. Teaching Android and iOS development with React Native and Flutter.',\n        subjects: [\n          { code: 'MOB101', name: 'Mobile Development Basics', grade: 'A' },\n          { code: 'RN201', name: 'React Native', grade: 'A+' },\n          { code: 'FLT201', name: 'Flutter Development', grade: 'A' },\n        ],\n        hourlyRate: 33,\n        availableSlots: [\n          { day: 'Monday', startTime: '17:00', endTime: '21:00' },\n          { day: 'Wednesday', startTime: '17:00', endTime: '21:00' },\n          { day: 'Sunday', startTime: '10:00', endTime: '14:00' },\n        ],\n        preferredLocations: ['Online', 'TP Library', 'Bedok Mall'],\n        averageRating: 4.7,\n        totalReviews: 14,\n        totalSessions: 29,\n        completedSessions: 28,\n        responseTime: 130,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[11]._id, // olivia_tutor\n        bio: 'Animation and video editing expert. Adobe After Effects, Premiere Pro, and 3D modeling.',\n        subjects: [\n          { code: 'ANI101', name: 'Animation Basics', grade: 'A+' },\n          { code: 'VID201', name: 'Video Editing', grade: 'A+' },\n          { code: '3D101', name: '3D Modeling', grade: 'A' },\n          { code: 'AE201', name: 'After Effects Advanced', grade: 'A+' },\n        ],\n        hourlyRate: 40,\n        availableSlots: [\n          { day: 'Tuesday', startTime: '10:00', endTime: '13:00' },\n          { day: 'Thursday', startTime: '10:00', endTime: '13:00' },\n          { day: 'Saturday', startTime: '15:00', endTime: '19:00' },\n        ],\n        preferredLocations: ['TP Design Studio', 'Online'],\n        averageRating: 4.9,\n        totalReviews: 24,\n        totalSessions: 56,\n        completedSessions: 54,\n        responseTime: 75,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[12]._id, // peter_tutor\n        bio: 'Mechanical engineering student. Strong in CAD, thermodynamics, and materials science.',\n        subjects: [\n          { code: 'CAD101', name: 'CAD Design', grade: 'A' },\n          { code: 'THM201', name: 'Thermodynamics', grade: 'A' },\n          { code: 'MAT101', name: 'Materials Science', grade: 'A+' },\n        ],\n        hourlyRate: 26,\n        availableSlots: [\n          { day: 'Monday', startTime: '09:00', endTime: '12:00' },\n          { day: 'Wednesday', startTime: '09:00', endTime: '12:00' },\n          { day: 'Friday', startTime: '09:00', endTime: '12:00' },\n        ],\n        preferredLocations: ['TP Engineering Lab', 'TP Library', 'Online'],\n        averageRating: 4.65,\n        totalReviews: 10,\n        totalSessions: 22,\n        completedSessions: 21,\n        responseTime: 180,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[13]._id, // quinn_tutor\n        bio: 'Digital marketing and e-commerce specialist. SEO, social media marketing, and analytics.',\n        subjects: [\n          { code: 'DM101', name: 'Digital Marketing', grade: 'A+' },\n          { code: 'SEO201', name: 'SEO & SEM', grade: 'A+' },\n          { code: 'SMM201', name: 'Social Media Marketing', grade: 'A' },\n          { code: 'ANA101', name: 'Marketing Analytics', grade: 'A+' },\n        ],\n        hourlyRate: 36,\n        availableSlots: [\n          { day: 'Tuesday', startTime: '16:00', endTime: '20:00' },\n          { day: 'Thursday', startTime: '16:00', endTime: '20:00' },\n          { day: 'Saturday', startTime: '11:00', endTime: '15:00' },\n        ],\n        preferredLocations: ['Online', 'Starbucks @ TP', 'Tampines Mall'],\n        averageRating: 4.85,\n        totalReviews: 21,\n        totalSessions: 48,\n        completedSessions: 46,\n        responseTime: 65,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[14]._id, // rachel_tutor\n        bio: 'Cloud computing and DevOps engineer. AWS, Docker, Kubernetes, and CI/CD pipelines.',\n        subjects: [\n          { code: 'CLOUD101', name: 'Cloud Computing', grade: 'A+' },\n          { code: 'AWS201', name: 'AWS Architecture', grade: 'A+' },\n          { code: 'DOC201', name: 'Docker & Containers', grade: 'A+' },\n          { code: 'CICD301', name: 'DevOps & CI/CD', grade: 'A' },\n        ],\n        hourlyRate: 42,\n        availableSlots: [\n          { day: 'Monday', startTime: '18:30', endTime: '21:30' },\n          { day: 'Wednesday', startTime: '18:30', endTime: '21:30' },\n          { day: 'Sunday', startTime: '13:00', endTime: '17:00' },\n        ],\n        preferredLocations: ['Online', 'TP IT Lab'],\n        averageRating: 4.92,\n        totalReviews: 27,\n        totalSessions: 63,\n        completedSessions: 61,\n        responseTime: 55,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[15]._id, // sam_tutor\n        bio: 'Budget-friendly math tutor. Good at explaining complex concepts in simple terms.',\n        subjects: [\n          { code: 'MATH101', name: 'Calculus I', grade: 'A' },\n          { code: 'MATH201', name: 'Calculus II', grade: 'A' },\n          { code: 'ALG101', name: 'Algebra', grade: 'A+' },\n        ],\n        hourlyRate: 18,\n        availableSlots: [\n          { day: 'Monday', startTime: '10:00', endTime: '14:00' },\n          { day: 'Tuesday', startTime: '10:00', endTime: '14:00' },\n          { day: 'Wednesday', startTime: '10:00', endTime: '14:00' },\n          { day: 'Thursday', startTime: '10:00', endTime: '14:00' },\n          { day: 'Friday', startTime: '10:00', endTime: '14:00' },\n        ],\n        preferredLocations: ['TP Library', 'Online'],\n        averageRating: 4.6,\n        totalReviews: 11,\n        totalSessions: 26,\n        completedSessions: 25,\n        responseTime: 200,\n        isAvailable: true,\n      },\n      {\n        userId: tutorUsers[16]._id, // tina_tutor\n        bio: 'Supply chain management and logistics expert. Project management and operations.',\n        subjects: [\n          { code: 'SCM101', name: 'Supply Chain Management', grade: 'A+' },\n          { code: 'LOG201', name: 'Logistics', grade: 'A' },\n          { code: 'PM101', name: 'Project Management', grade: 'A+' },\n          { code: 'OPS201', name: 'Operations Management', grade: 'A' },\n        ],\n        hourlyRate: 31,\n        availableSlots: [\n          { day: 'Tuesday', startTime: '14:00', endTime: '17:00' },\n          { day: 'Thursday', startTime: '14:00', endTime: '17:00' },\n          { day: 'Saturday', startTime: '09:00', endTime: '12:00' },\n        ],\n        preferredLocations: ['TP Library', 'Online', 'Tampines Library'],\n        averageRating: 4.78,\n        totalReviews: 17,\n        totalSessions: 39,\n        completedSessions: 38,\n        responseTime: 95,\n        isAvailable: true,\n      },\n    ]);\n\n    console.log(`鉁?Created ${tutors.length} tutor profiles`);\n\n    // Create Bookings\n    console.log('馃搮 Creating bookings...');\n\n    const bookings = await Booking.insertMany([\n      // Completed bookings\n      {\n        studentId: students[0]._id, // alice\n        tutorId: tutors[0]._id, // bob\n        subject: 'DBAV',\n        date: new Date('2025-10-15T14:00:00'),\n        timeSlot: '14:00-15:00',\n        duration: 1,\n        location: 'TP Library',\n        status: 'completed',\n        cost: 25,\n        notes: 'Help with database optimization',\n      },\n      {\n        studentId: students[0]._id, // alice\n        tutorId: tutors[1]._id, // emily\n        subject: 'NECT',\n        date: new Date('2025-10-20T13:00:00'),\n        timeSlot: '13:00-15:00',\n        duration: 2,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'completed',\n        cost: 60,\n        notes: 'Network technology review for midterm',\n      },\n      {\n        studentId: students[1]._id, // charlie\n        tutorId: tutors[2]._id, // frank\n        subject: 'ACC101',\n        date: new Date('2025-10-18T18:00:00'),\n        timeSlot: '18:00-19:00',\n        duration: 1,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'completed',\n        cost: 28,\n        notes: 'Balance sheet fundamentals',\n      },\n      {\n        studentId: students[2]._id, // diana\n        tutorId: tutors[3]._id, // grace\n        subject: 'ENG201',\n        date: new Date('2025-10-22T10:00:00'),\n        timeSlot: '10:00-12:00',\n        duration: 2,\n        location: 'TP Engineering Lab',\n        status: 'completed',\n        cost: 64,\n        notes: 'Circuit analysis practice',\n      },\n      // Confirmed upcoming bookings\n      // TEST BOOKING - Active now for video testing\n      {\n        studentId: students[0]._id, // alice\n        tutorId: tutors[4]._id, // henry\n        subject: 'ADEV - Video Test Session',\n        date: new Date(), // Current time\n        timeSlot: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false }),\n        duration: 1,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'confirmed',\n        cost: 35,\n        notes: 'Test video session - Join now to test video conferencing',\n      },\n      {\n        studentId: students[0]._id, // alice\n        tutorId: tutors[4]._id, // henry\n        subject: 'FULL-stack',\n        date: new Date('2025-11-10T15:00:00'),\n        timeSlot: '15:00-17:00',\n        duration: 2,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'confirmed',\n        cost: 70,\n        notes: 'Full stack development and deployment',\n      },\n      {\n        studentId: students[1]._id, // charlie\n        tutorId: tutors[0]._id, // bob\n        subject: 'CS201',\n        date: new Date('2025-11-08T14:00:00'),\n        timeSlot: '14:00-16:00',\n        duration: 2,\n        location: 'TP Library',\n        status: 'confirmed',\n        cost: 50,\n        notes: 'Binary search trees and traversal',\n      },\n      {\n        studentId: students[2]._id, // diana\n        tutorId: tutors[1]._id, // emily\n        subject: 'MATH301',\n        date: new Date('2025-11-12T13:00:00'),\n        timeSlot: '13:00-14:00',\n        duration: 1,\n        location: 'TP Library',\n        status: 'confirmed',\n        cost: 30,\n        notes: 'Probability distributions',\n      },\n      // Pending bookings\n      {\n        studentId: students[0]._id, // alice\n        tutorId: tutors[2]._id, // frank\n        subject: 'IOT',\n        date: new Date('2025-11-15T18:00:00'),\n        timeSlot: '18:00-19:00',\n        duration: 1,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'pending',\n        cost: 28,\n        notes: 'Internet of Things fundamentals',\n      },\n      {\n        studentId: students[1]._id, // charlie\n        tutorId: tutors[1]._id, // emily\n        subject: 'MATH101',\n        date: new Date('2025-11-14T14:00:00'),\n        timeSlot: '14:00-15:00',\n        duration: 1,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'pending',\n        cost: 30,\n        notes: 'Derivatives and integrals',\n      },\n      // More completed bookings\n      {\n        studentId: students[3]._id, // edward\n        tutorId: tutors[4]._id, // henry\n        subject: 'WEB101',\n        date: new Date('2025-10-25T15:00:00'),\n        timeSlot: '15:00-16:00',\n        duration: 1,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'completed',\n        cost: 35,\n        notes: 'HTML and CSS basics',\n      },\n      {\n        studentId: students[4]._id, // fiona\n        tutorId: tutors[5]._id, // iris\n        subject: 'DES101',\n        date: new Date('2025-10-19T14:00:00'),\n        timeSlot: '14:00-16:00',\n        duration: 2,\n        location: 'TP Design Studio',\n        status: 'completed',\n        cost: 60,\n        notes: 'Design principles and color theory',\n      },\n      {\n        studentId: students[5]._id, // george\n        tutorId: tutors[8]._id, // leo\n        subject: 'ECON101',\n        date: new Date('2025-10-21T13:00:00'),\n        timeSlot: '13:00-14:00',\n        duration: 1,\n        location: 'TP Library',\n        status: 'completed',\n        cost: 32,\n        notes: 'Supply and demand concepts',\n      },\n      {\n        studentId: students[6]._id, // hannah\n        tutorId: tutors[3]._id, // grace\n        subject: 'ENG101',\n        date: new Date('2025-10-17T10:00:00'),\n        timeSlot: '10:00-12:00',\n        duration: 2,\n        location: 'TP Engineering Lab',\n        status: 'completed',\n        cost: 64,\n        notes: 'Statics and force diagrams',\n      },\n      {\n        studentId: students[7]._id, // ivan\n        tutorId: tutors[6]._id, // jack\n        subject: 'NET101',\n        date: new Date('2025-10-23T16:00:00'),\n        timeSlot: '16:00-18:00',\n        duration: 2,\n        location: 'TP IT Lab',\n        status: 'completed',\n        cost: 76,\n        notes: 'TCP/IP and network layers',\n      },\n      // More confirmed upcoming bookings\n      {\n        studentId: students[3]._id, // edward\n        tutorId: tutors[0]._id, // bob\n        subject: 'CS101',\n        date: new Date('2025-11-11T14:00:00'),\n        timeSlot: '14:00-15:00',\n        duration: 1,\n        location: 'TP Library',\n        status: 'confirmed',\n        cost: 25,\n        notes: 'Loops and conditionals',\n      },\n      {\n        studentId: students[4]._id, // fiona\n        tutorId: tutors[5]._id, // iris\n        subject: 'UX201',\n        date: new Date('2025-11-13T14:00:00'),\n        timeSlot: '14:00-16:00',\n        duration: 2,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'confirmed',\n        cost: 60,\n        notes: 'User research and wireframing',\n      },\n      {\n        studentId: students[5]._id, // george\n        tutorId: tutors[2]._id, // frank\n        subject: 'ACC101',\n        date: new Date('2025-11-09T18:00:00'),\n        timeSlot: '18:00-19:00',\n        duration: 1,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'confirmed',\n        cost: 28,\n        notes: 'Financial statements',\n      },\n      {\n        studentId: students[6]._id, // hannah\n        tutorId: tutors[7]._id, // kelly\n        subject: 'PHY101',\n        date: new Date('2025-11-16T15:00:00'),\n        timeSlot: '15:00-17:00',\n        duration: 2,\n        location: 'TP Library',\n        status: 'confirmed',\n        cost: 56,\n        notes: 'Kinematics and motion',\n      },\n      {\n        studentId: students[7]._id, // ivan\n        tutorId: tutors[6]._id, // jack\n        subject: 'SEC201',\n        date: new Date('2025-11-17T16:00:00'),\n        timeSlot: '16:00-18:00',\n        duration: 2,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'confirmed',\n        cost: 76,\n        notes: 'Network security fundamentals',\n      },\n      // More pending bookings\n      {\n        studentId: students[3]._id, // edward\n        tutorId: tutors[4]._id, // henry\n        subject: 'DB101',\n        date: new Date('2025-11-18T15:00:00'),\n        timeSlot: '15:00-17:00',\n        duration: 2,\n        location: 'Online',\n        sessionType: 'online',\n        status: 'pending',\n        cost: 70,\n        notes: 'SQL queries and database design',\n      },\n      {\n        studentId: students[4]._id, // fiona\n        tutorId: tutors[5]._id, // iris\n        subject: 'GD101',\n        date: new Date('2025-11-19T14:00:00'),\n        timeSlot: '14:00-15:00',\n        duration: 1,\n        location: 'TP Design Studio',\n        status: 'pending',\n        cost: 30,\n        notes: 'Adobe Illustrator basics',\n      },\n      {\n        studentId: students[5]._id, // george\n        tutorId: tutors[8]._id, // leo\n        subject: 'FIN101',\n        date: new Date('2025-11-20T13:00:00'),\n        timeSlot: '13:00-15:00',\n        duration: 2,\n        location: 'TP Library',\n        status: 'pending',\n        cost: 64,\n        notes: 'Time value of money',\n      },\n      {\n        studentId: students[6]._id, // hannah\n        tutorId: tutors[3]._id, // grace\n        subject: 'ENG201',\n        date: new Date('2025-11-21T10:00:00'),\n        timeSlot: '10:00-12:00',\n        duration: 2,\n        location: 'TP Engineering Lab',\n        status: 'pending',\n        cost: 64,\n        notes: 'Circuit theory',\n      },\n      {\n        studentId: students[7]._id, // ivan\n        tutorId: tutors[0]._id, // bob\n        subject: 'CS301',\n        date: new Date('2025-11-22T14:00:00'),\n        timeSlot: '14:00-16:00',\n        duration: 2,\n        location: 'TP Library',\n        status: 'pending',\n        cost: 50,\n        notes: 'Algorithm optimization',\n      },\n    ]);\n\n    console.log(`鉁?Created ${bookings.length} bookings`);\n\n    // Create Reviews\n    console.log('猸?Creating reviews...');\n\n    const reviews = await Review.insertMany([\n      // Alice's review for bob (DBAV session)\n      {\n        bookingId: bookings[0]._id,\n        tutorId: tutorUsers[0]._id, // bob\n        studentId: students[0]._id, // alice\n        rating: 5,\n        comment: 'Excellent tutor! Bob explained database optimization concepts very clearly and patiently. The session was well-structured and I learned a lot about query performance.',\n        tags: ['Clear Explanations', 'Patient', 'Knowledgeable'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 3,\n        createdAt: new Date('2025-10-15T16:00:00'),\n      },\n      // Alice's review for emily (NECT session)\n      {\n        bookingId: bookings[1]._id,\n        tutorId: tutorUsers[1]._id, // emily\n        studentId: students[0]._id, // alice\n        rating: 5,\n        comment: 'Emily is an amazing tutor! She made network technology easy to understand and provided great real-world examples. Highly recommend!',\n        tags: ['Clear Explanations', 'Great Examples', 'Knowledgeable'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 5,\n        tutorResponse: 'Thank you Alice! It was great working with you. Keep up the excellent work!',\n        tutorResponseDate: new Date('2025-10-21T10:00:00'),\n        createdAt: new Date('2025-10-20T17:00:00'),\n      },\n      // Charlie's review for frank (ACC101 session)\n      {\n        bookingId: bookings[2]._id,\n        tutorId: tutorUsers[2]._id, // frank\n        studentId: students[1]._id, // charlie\n        rating: 4,\n        comment: 'Frank was helpful with accounting fundamentals. Good session overall, though I wished we had more practice problems.',\n        tags: ['Knowledgeable', 'Helpful Materials'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 2,\n        createdAt: new Date('2025-10-18T20:00:00'),\n      },\n      // Diana's review for grace (ENG201 session)\n      {\n        bookingId: bookings[3]._id,\n        tutorId: tutorUsers[3]._id, // grace\n        studentId: students[2]._id, // diana\n        rating: 5,\n        comment: 'Grace is incredibly patient and thorough! She helped me understand circuit analysis step by step. Great tutor!',\n        tags: ['Patient', 'Clear Explanations', 'Knowledgeable'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 4,\n        createdAt: new Date('2025-10-22T14:00:00'),\n      },\n      // Edward's review for henry (WEB101 session)\n      {\n        bookingId: bookings[10]._id,\n        tutorId: tutorUsers[4]._id, // henry\n        studentId: students[3]._id, // edward\n        rating: 5,\n        comment: 'Henry is a fantastic web development tutor! Very knowledgeable about HTML, CSS, and JavaScript. Explained everything clearly.',\n        tags: ['Clear Explanations', 'Knowledgeable', 'Well Prepared'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 6,\n        tutorResponse: 'Thanks Edward! Happy to help anytime. Good luck with your projects!',\n        tutorResponseDate: new Date('2025-10-26T09:00:00'),\n        createdAt: new Date('2025-10-25T18:00:00'),\n      },\n      // Fiona's review for iris (DES101 session)\n      {\n        bookingId: bookings[11]._id,\n        tutorId: tutorUsers[5]._id, // iris\n        studentId: students[4]._id, // fiona\n        rating: 5,\n        comment: 'Iris is an excellent design tutor! She really helped me understand design principles and color theory. Her examples were spot on and very practical.',\n        tags: ['Clear Explanations', 'Great Examples', 'Engaging'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 7,\n        tutorResponse: 'Thank you so much Fiona! Really enjoyed our session. Keep creating!',\n        tutorResponseDate: new Date('2025-10-20T11:00:00'),\n        createdAt: new Date('2025-10-19T18:00:00'),\n      },\n      // George's review for leo (ECON101 session)\n      {\n        bookingId: bookings[12]._id,\n        tutorId: tutorUsers[8]._id, // leo\n        studentId: students[5]._id, // george\n        rating: 4,\n        comment: 'Leo knows his economics well. He explained supply and demand concepts clearly with good real-world examples. Would have liked more practice questions though.',\n        tags: ['Knowledgeable', 'Great Examples', 'Well Prepared'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 3,\n        createdAt: new Date('2025-10-21T15:00:00'),\n      },\n      // Hannah's review for grace (ENG101 session)\n      {\n        bookingId: bookings[13]._id,\n        tutorId: tutorUsers[3]._id, // grace\n        studentId: students[6]._id, // hannah\n        rating: 5,\n        comment: 'Grace is amazing! So patient and thorough with explaining statics and force diagrams. She made sure I understood each concept before moving on. Highly recommend!',\n        tags: ['Patient', 'Clear Explanations', 'Encouraging'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 8,\n        tutorResponse: 'Thank you Hannah! You worked really hard in our session. Keep it up!',\n        tutorResponseDate: new Date('2025-10-18T09:00:00'),\n        createdAt: new Date('2025-10-17T14:00:00'),\n      },\n      // Ivan's review for jack (NET101 session)\n      {\n        bookingId: bookings[14]._id,\n        tutorId: tutorUsers[6]._id, // jack\n        studentId: students[7]._id, // ivan\n        rating: 5,\n        comment: 'Jack is excellent at teaching networking! His explanations of TCP/IP and network layers were crystal clear. He also provided great study materials and practice questions.',\n        tags: ['Clear Explanations', 'Helpful Materials', 'Knowledgeable'],\n        isAnonymous: false,\n        isVerified: true,\n        helpfulCount: 9,\n        tutorResponse: 'Great to hear Ivan! You asked excellent questions during the session. Best of luck!',\n        tutorResponseDate: new Date('2025-10-24T10:00:00'),\n        createdAt: new Date('2025-10-23T20:00:00'),\n      },\n    ]);\n\n    console.log(`鉁?Created ${reviews.length} reviews`);\n\n    console.log('\\n馃帀 Database seeding completed successfully!');\n    console.log('\\n馃搳 Summary:');\n    console.log(`   Users: ${users.length} (${students.length} students, ${tutorUsers.length} tutors)`);\n    console.log(`   Tutor Profiles: ${tutors.length}`);\n    console.log(`   Bookings: ${bookings.length}`);\n    console.log(`   Reviews: ${reviews.length}`);\n    console.log('\\n馃攼 Login credentials:');\n    console.log('   All users: password123');\n    console.log('   Students: alice@tp.edu.sg, charlie@tp.edu.sg, diana@tp.edu.sg, edward@tp.edu.sg, fiona@tp.edu.sg, george@tp.edu.sg, hannah@tp.edu.sg, ivan@tp.edu.sg');\n    console.log('   Tutors: bob@tp.edu.sg, emily@tp.edu.sg, frank@tp.edu.sg, grace@tp.edu.sg, henry@tp.edu.sg, iris@tp.edu.sg, jack@tp.edu.sg, kelly@tp.edu.sg, leo@tp.edu.sg');\n\n    process.exit(0);\n  } catch (error) {\n    console.error('鉂?Error seeding database:', error);\n    process.exit(1);\n  }\n};\n\nseedDatabase();\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\server.js","messages":[{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":13,"column":14,"nodeType":"Identifier","messageId":"undef","endLine":13,"endColumn":21},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":23,"column":11,"nodeType":"Identifier","messageId":"undef","endLine":23,"endColumn":18},{"ruleId":"no-unused-vars","severity":2,"message":"'next' is defined but never used.","line":110,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":110,"endColumn":29,"suggestions":[{"messageId":"removeVar","data":{"varName":"next"},"fix":{"range":[2932,2938],"text":""},"desc":"Remove unused variable 'next'."}]},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":130,"column":34,"nodeType":"Identifier","messageId":"undef","endLine":130,"endColumn":41},{"ruleId":"no-undef","severity":2,"message":"'process' is not defined.","line":132,"column":31,"nodeType":"Identifier","messageId":"undef","endLine":132,"endColumn":38}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import express from 'express';\nimport dotenv from 'dotenv';\nimport cors from 'cors';\nimport http from 'http';\nimport { WebSocketServer } from 'ws';\nimport connectDB from './config/database.js';\n\n// Load environment variables\ndotenv.config();\n\n// Initialize Express app\nconst app = express();\nconst PORT = process.env.PORT || 5000;\n\n// Create HTTP server\nconst server = http.createServer(app);\n\n// Create WebSocket server for collaborative editing\nconst wss = new WebSocketServer({ server });\n\n// Middleware\napp.use(cors({\n  origin: process.env.FRONTEND_URL || 'http://localhost:5174',\n  credentials: true\n}));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// Connect to MongoDB\nconnectDB();\n\n// WebSocket connection handler for collaborative code editing\n// Using simple WebSocket relay for Yjs synchronization\nwss.on('connection', (ws, req) => {\n  // Extract room name from URL (e.g., /room-name)\n  // y-websocket typically connects to ws://host:port/room-name\n  const room = req.url.slice(1) || 'default-room';\n  ws.room = room;\n\n  console.log(`鉁?WebSocket client connected to room: ${room}`);\n\n  // Relay messages to all other connected clients IN THE SAME ROOM\n  ws.on('message', (message) => {\n    wss.clients.forEach((client) => {\n      if (client !== ws && client.readyState === 1 && client.room === ws.room) { // 1 = OPEN\n        client.send(message);\n      }\n    });\n  });\n\n  ws.on('close', () => {\n    console.log(`鉂?WebSocket client disconnected from room: ${room}`);\n  });\n\n  ws.on('error', (error) => {\n    console.error('WebSocket error:', error);\n  });\n});\n\n// Basic routes\napp.get('/', (req, res) => {\n  res.json({\n    message: 'Tu2tor API Server',\n    status: 'running',\n    version: '1.0.0'\n  });\n});\n\napp.get('/api/health', (req, res) => {\n  res.json({\n    status: 'healthy',\n    mongodb: 'connected',\n    timestamp: new Date().toISOString()\n  });\n});\n\n// Import routes\nimport testRoutes from './routes/testRoutes.js';\nimport authRoutes from './routes/authRoutes.js';\nimport tutorRoutes from './routes/tutorRoutes.js';\nimport bookingRoutes from './routes/bookingRoutes.js';\nimport reviewRoutes from './routes/reviewRoutes.js';\n\napp.use('/api/test', testRoutes);\napp.use('/api/auth', authRoutes);\napp.use('/api/tutors', tutorRoutes);\napp.use('/api/bookings', bookingRoutes);\napp.use('/api/reviews', reviewRoutes);\n\nimport { executeCode } from './services/codeExecution.js';\n\n// Code Execution Endpoint\napp.post('/api/code/execute', async (req, res) => {\n  try {\n    const { language, code } = req.body;\n\n    if (!code) {\n      return res.status(400).json({ error: 'No code provided' });\n    }\n\n    const result = await executeCode(language, code);\n    res.json(result);\n  } catch (error) {\n    console.error('Code execution error:', error);\n    res.status(500).json({ error: 'Internal server error during code execution' });\n  }\n});\n\n// Error handling middleware\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.status(500).json({\n    error: 'Something went wrong!',\n    message: err.message\n  });\n});\n\n// 404 handler\napp.use((req, res) => {\n  res.status(404).json({\n    error: 'Route not found'\n  });\n});\n\n\n\n// Start server with WebSocket support\nserver.listen(PORT, () => {\n  console.log(`馃殌 Server running on port ${PORT}`);\n  console.log(`馃寪 Environment: ${process.env.NODE_ENV}`);\n  console.log(`馃敆 API: http://localhost:${PORT}`);\n  console.log(`馃敆 Frontend: ${process.env.FRONTEND_URL}`);\n  console.log(`馃攲 WebSocket server ready for collaborative editing`);\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\gengy\\Desktop\\瀛︿範璧勬枡\\TP year2.2\\Full stack\\Tu2tor\\server\\src\\services\\codeExecution.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
